{% extends "base.html" %}
{% block content %}

<h3>Settings</h3>
  <hr>

<div class="container-md mx-auto col-7 mt-5">
  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <button class="nav-link active" id="nav-cambridge-tab" data-bs-toggle="tab" data-bs-target="#nav-cambridge" type="button" role="tab" aria-controls="nav-cambridge" aria-selected="true">Cambridge</button>
      <button  class="nav-link" id="nav-krakow-tab" data-bs-toggle="tab" data-bs-target="#nav-krakow" type="button" role="tab" aria-controls="nav-krakow" aria-selected="false" >Krakow</button>
      <button class="nav-link" id="nav-bangalore-tab" data-bs-toggle="tab" data-bs-target="#nav-bangalore" type="button" role="tab" aria-controls="nav-bangalore" aria-selected="false">Bangalore</button>
    </div>
 </nav>

  <div class="tab-content" id="nav-tabContent">

    <div class="tab-pane fade show active" id="nav-cambridge" role="tabpanel" aria-labelledby="nav-cambridge-tab" tabindex="0">

        <div class="container-md mx-auto mt-5">

              <h4>Set availabilities for following dates</h4> 
              <hr>

              <form action="" method="post">
                {% csrf_token %}

                <input type="hidden" id="id_location" name="location" value="Cambridge">

                <div class="form-floating my-2">
                 <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
                  <label class="px-4" for="id_date_from"> From </label>
                </div>

                <div class="form-floating my-2">
                  <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
                  <label class="px-4" for="id_to_date"> To </label>
                 </div>

                 <div class="input-group mb-3">
                 <div class="form-floating my-2">
                 <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
                 <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
                </div>
              </div>
              <div class="px-4 py-1 my-1 text-center">
                <button type="submit" class="btn btn-primary">Submit</button>
                </div>
              </form>


                  <h4 class="mt-5"> Edit NOCC representatives list</h4> 
                  <hr>
                  <i><small style="color:#9e9e9e">Comma separated list</small></i> 
                  <form action="" method="post">
                    {% csrf_token %}
                    <input type="hidden" id="id_location" name="location" value="Cambridge">
                    <div class="input-group mb-3">
                      <input type="text" class="form-control" placeholder="Name" aria-label="Name" id="Name">
                      <span class="input-group-text"></span>
                      <input type="text" class="form-control" placeholder="email" aria-label="Email" id="Email">
                      <button class="btn btn-primary" type="submit" id="button-addon2">Add</button>
                    </div>

                    </form>

                    <div class="table-responsive">
                      <table class="table table-hover table-sm table-borderless">
                              <tr>
                                  <th>Name</th>
                                  <th>Email</th>
                                  <th></th>
                              </tr>
                              {% for person in nocc_representatives_list_cambridge %}
                              <tr class="table-secondary">
                                <td>{{person.name}}</td>
                                <td>{{person.email}}</td>
                                <td>Delete</td>
                              </tr>
                              {% endfor %}
                      </table>
                    </div>
                    
                  </div>
              

              <br><br>
              <div class="table-responsive container-md mx-auto mt-5">
              <h4>See upcomming availabilities</h4> 
              <hr>
              <input class="form-control" id="myInput1" type="text" placeholder="Search..">
                <table class="table table-sm">
                        <tr>
                            <th>Date</th>
                            <th>Time frame</th>
                        </tr>

                        <tbody class="table-group-divider" id="myTable1">
                        {%for item in availability_data_cambridge %}
                        <tr>
                            <td>{{item.avail_date}}</td>
                            <td>{{item.avail_time}}</td>

                        </tr>
                        {% endfor %}
                    </tbody>
                  </table>
                </div>
              
                


    </div>
    

    <div class="tab-pane fade" id="nav-krakow" role="tabpanel" aria-labelledby="nav-krakow-tab" tabindex="0">


      <div class="container-md mx-auto mt-5">

        <h4>Set availabilities for following dates</h4> 
        <hr>

        <form action="" method="post">
          {% csrf_token %}

          <input type="hidden" id="id_location" name="location" value="Krakow">

          <div class="form-floating my-2">
           <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
            <label class="px-4" for="id_date_from"> From </label>
          </div>

          <div class="form-floating my-2">
            <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
            <label class="px-4" for="id_to_date"> To </label>
           </div>

           <div class="input-group mb-3">
           <div class="form-floating my-2">
           <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
           <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
          </div>
        </div>
        <div class="px-4 py-1 my-1 text-center">
          <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>


            <h4 class="mt-5"> Edit NOCC representatives list</h4> 
            <hr>
            <i><small style="color:#9e9e9e">Comma separated list</small></i> 
            <form action="" method="post">
              {% csrf_token %}
              <input type="hidden" id="id_location" name="location" value="Krakow">
              <div class="input-group mb-3">
                <textarea class="form-control" rows="1" cols="50" aria-label="nocc_representatives_list" aria-describedby="button-addon2" id="nocc_representatives_list" name="nocc_representatives_list">{{nocc_representatives_list_krakow}}</textarea>
                <button class="btn btn-primary" type="submit" id="button-addon2">Update</button>
              </div> 
              </form>
            </div>
        

        <br><br>
        <div class="table-responsive container-md mx-auto mt-5">
        <h4>See upcomming availabilities</h4> 
        <hr>
        <input class="form-control" id="myInput2" type="text" placeholder="Search..">
          <table class="table table-sm">
                  <tr>
                      <th>Date</th>
                      <th>Time frame</th>
                  </tr>

                  <tbody class="table-group-divider" id="myTable2">
                  {% for item in availability_data_krakow %}
                  <tr>
                      <td>{{item.avail_date}}</td>
                      <td>{{item.avail_time}}</td>

                  </tr>
                  {% endfor %}
              </tbody>
            </table>
          </div>



    </div>

    <div class="tab-pane fade" id="nav-bangalore" role="tabpanel" aria-labelledby="nav-bangalore-tab" tabindex="0">

      <div class="container-md mx-auto mt-5">

        <h4>Set availabilities for following dates</h4> 
        <hr>

        <form action="" method="post">
          {% csrf_token %}

          <input type="hidden" id="id_location" name="location" value="Bangalore">

          <div class="form-floating my-2">
           <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
            <label class="px-4" for="id_date_from"> From </label>
          </div>

          <div class="form-floating my-2">
            <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
            <label class="px-4" for="id_to_date"> To </label>
           </div>

           <div class="input-group mb-3">
           <div class="form-floating my-2">
           <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
           <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
          </div>
        </div>
        <div class="px-4 py-1 my-1 text-center">
          <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>


            <h4 class="mt-5"> Edit NOCC representatives list</h4> 
            <hr>
            <i><small style="color:#9e9e9e">Comma separated list</small></i> 
            <form action="" method="post">
              {% csrf_token %}
              <input type="hidden" id="id_location" name="location" value="Bangalore">
              <div class="input-group mb-3">
                <textarea class="form-control" rows="1" cols="50" aria-label="nocc_representatives_list" aria-describedby="button-addon2" id="nocc_representatives_list" name="nocc_representatives_list">{{nocc_representatives_list_bangalore}}</textarea>
                <button class="btn btn-primary" type="submit" id="button-addon2">Update</button>
              </div> 
              </form>
            </div>
        

        <br><br>
        <div class="table-responsive container-md mx-auto mt-5">
        <h4>See upcomming availabilities</h4> 
        <hr>
        <input class="form-control" id="myInput3" type="text" placeholder="Search..">
          <table class="table table-sm">
                  <tr>
                      <th>Date</th>
                      <th>Time frame</th>
                  </tr>

                  <tbody class="table-group-divider" id="myTable3">
                  {%for item in availability_data_bangalore %}
                  <tr>
                      <td>{{item.avail_date}}</td>
                      <td>{{item.avail_time}}</td>

                  </tr>
                  {% endfor %}
              </tbody>
            </table>
          </div>


    </div>
</div>
</div>



<script>
  $(document).ready(function(){
    $("#myInput1").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable1 tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });

    $("#myInput2").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable2 tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });

    $("#myInput3").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable3 tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });

  });
  </script>

{% endblock %}