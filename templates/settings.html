{% extends "base.html" %}
{% block content %}

<h3>Settings</h3>
current_location = {{current_location}}
  <hr>

<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <button {% if current_location == "Cambridge" %} class="nav-link active" {% else %} class="nav-link" {% endif %} id="nav-cambridge-tab" data-bs-toggle="tab" data-bs-target="#nav-cambridge" type="button" role="tab" aria-controls="nav-cambridge" {% if current_location == "Cambridge" %} aria-selected="true" {% else %} aria-selected="false" {% endif %} >Cambridge</button>
      <button {% if current_location == "Krakow" %} class="nav-link active" {% else %} class="nav-link" {% endif %} id="nav-krakow-tab" data-bs-toggle="tab" data-bs-target="#nav-krakow" type="button" role="tab" aria-controls="nav-krakow" {% if current_location == "Krakow" %} aria-selected="true" {% else %} aria-selected="false" {% endif %} >Krakow</button>
      <button {% if current_location == "Bangalore" %} class="nav-link active" {% else %} class="nav-link" {% endif %} id="nav-bangalore-tab" data-bs-toggle="tab" data-bs-target="#nav-bangalore" type="button" role="tab" aria-controls="nav-bangalore" {% if current_location == "Bangalore" %} aria-selected="true" {% else %} aria-selected="false" {% endif %}>Bangalore</button>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div {% if current_location == "Cambridge" %} class="tab-pane fade show active" {% else %} class="tab-pane fade" {% endif %} id="nav-cambridge" role="tabpanel" aria-labelledby="nav-cambridge-tab" tabindex="0">

        <div class="container-md mx-auto col-7 mt-5">

              <h4>Set availabilities for following dates</h4> 
              <hr>

              <form action="" method="post">
                {% csrf_token %}

                <input type="hidden" id="id_location" name="location" value="Cambridge">

                <div class="form-floating my-2">
                 <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
                  <label class="px-4" for="id_date_from"> From </label>
                </div>

                <div class="form-floating my-2">
                  <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
                  <label class="px-4" for="id_to_date"> To </label>
                 </div>

                 <div class="input-group mb-3">
                 <div class="form-floating my-2">
                 <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
                 <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
                </div>
              </div>
              <div class="px-4 py-1 my-1 text-center">
                <button type="submit" class="btn btn-primary">Submit</button>
                </div>
              </form>


                  <h4 class="mt-5"> Edit NOCC representatives list</h4> 
                  <hr>
                  <i><small style="color:#9e9e9e">Comma separated list</small></i> 
                  <form action="" method="post">
                    {% csrf_token %}
                    <input type="hidden" id="id_location" name="location" value="Cambridge">
                    <div class="input-group mb-3">
                      <textarea class="form-control" rows="1" cols="50" aria-label="nocc_representatives_list" aria-describedby="button-addon2" id="nocc_representatives_list" name="nocc_representatives_list">{{nocc_representatives_list_cambridge}}</textarea>
                      <button class="btn btn-primary" type="submit" id="button-addon2">Update</button>
                    </div> 
                    </form>
                  </div>
              

              <br><br>
              <div class="table-responsive container-md mx-auto col-7 mt-5">
              <h4>See upcomming availabilities</h4> 
              <hr>
              <input class="form-control" id="myInput" type="text" placeholder="Search..">
                <table class="table table-sm">
                        <tr>
                            <th>Date</th>
                            <th>Time frame</th>
                        </tr>

                        <tbody class="table-group-divider" id="myTable">
                        {%for item in availability_data_cambridge %}
                        <tr>
                            <td>{{item.avail_date}}</td>
                            <td>{{item.avail_time}}</td>

                        </tr>
                        {% endfor %}
                    </tbody>
                  </table>
                </div>
              
                


    </div>
    <div {% if current_location == "Krakow" %} class="tab-pane fade show active" {% else %} class="tab-pane fade" {% endif %} id="nav-krakow" role="tabpanel" aria-labelledby="nav-krakow-tab" tabindex="0">


      <div class="container-md mx-auto col-7 mt-5">

        <h4>Set availabilities for following dates</h4> 
        <hr>

        <form action="" method="post">
          {% csrf_token %}

          <input type="hidden" id="id_location" name="location" value="Krakow">

          <div class="form-floating my-2">
           <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
            <label class="px-4" for="id_date_from"> From </label>
          </div>

          <div class="form-floating my-2">
            <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
            <label class="px-4" for="id_to_date"> To </label>
           </div>

           <div class="input-group mb-3">
           <div class="form-floating my-2">
           <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
           <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
          </div>
        </div>
        <div class="px-4 py-1 my-1 text-center">
          <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>


            <h4 class="mt-5"> Edit NOCC representatives list</h4> 
            <hr>
            <i><small style="color:#9e9e9e">Comma separated list</small></i> 
            <form action="" method="post">
              {% csrf_token %}
              <input type="hidden" id="id_location" name="location" value="Krakow">
              <div class="input-group mb-3">
                <textarea class="form-control" rows="1" cols="50" aria-label="nocc_representatives_list" aria-describedby="button-addon2" id="nocc_representatives_list" name="nocc_representatives_list">{{nocc_representatives_list_krakow}}</textarea>
                <button class="btn btn-primary" type="submit" id="button-addon2">Update</button>
              </div> 
              </form>
            </div>
        

        <br><br>
        <div class="table-responsive container-md mx-auto col-7 mt-5">
        <h4>See upcomming availabilities</h4> 
        <hr>
        <input class="form-control" id="myInput" type="text" placeholder="Search..">
          <table class="table table-sm">
                  <tr>
                      <th>Date</th>
                      <th>Time frame</th>
                  </tr>

                  <tbody class="table-group-divider" id="myTable">
                  {% for item in availability_data_krakow %}
                  <tr>
                      <td>{{item.avail_date}}</td>
                      <td>{{item.avail_time}}</td>

                  </tr>
                  {% endfor %}
              </tbody>
            </table>
          </div>





    </div>
    <div {% if current_location == "Bangalore" %} class="tab-pane fade show active" {% else %} class="tab-pane fade" {% endif %} id="nav-bangalore" role="tabpanel" aria-labelledby="nav-bangalore-tab" tabindex="0">


      <div class="container-md mx-auto col-7 mt-5">

        <h4>Set availabilities for following dates</h4> 
        <hr>

        <form action="" method="post">
          {% csrf_token %}

          <input type="hidden" id="id_location" name="location" value="Bangalore">

          <div class="form-floating my-2">
           <input type="date" id="id_from_date" name="from_date" class="form-control form-control-sm" placeholder="From" required> </input>
            <label class="px-4" for="id_date_from"> From </label>
          </div>

          <div class="form-floating my-2">
            <input type="date" id="id_to_date" name="to_date" class="form-control form-control-sm" placeholder="To" required> </input>
            <label class="px-4" for="id_to_date"> To </label>
           </div>

           <div class="input-group mb-3">
           <div class="form-floating my-2">
           <textarea class="form-control" rows="1" cols="40" aria-label="avail_time" aria-describedby="button-addon2" id="id_avail_time" name="avail_time"></textarea>
           <label class="px-4" for="id_avail_time"> Availability time frame <i><small style="color:#9e9e9e"> (example: 8:00-16:00)</small></i></label>
          </div>
        </div>
        <div class="px-4 py-1 my-1 text-center">
          <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>


            <h4 class="mt-5"> Edit NOCC representatives list</h4> 
            <hr>
            <i><small style="color:#9e9e9e">Comma separated list</small></i> 
            <form action="" method="post">
              {% csrf_token %}
              <input type="hidden" id="id_location" name="location" value="Bangalore">
              <div class="input-group mb-3">
                <textarea class="form-control" rows="1" cols="50" aria-label="nocc_representatives_list" aria-describedby="button-addon2" id="nocc_representatives_list" name="nocc_representatives_list">{{nocc_representatives_list_bangalore}}</textarea>
                <button class="btn btn-primary" type="submit" id="button-addon2">Update</button>
              </div> 
              </form>
            </div>
        

        <br><br>
        <div class="table-responsive container-md mx-auto col-7 mt-5">
        <h4>See upcomming availabilities</h4> 
        <hr>
        <input class="form-control" id="myInput" type="text" placeholder="Search..">
          <table class="table table-sm">
                  <tr>
                      <th>Date</th>
                      <th>Time frame</th>
                  </tr>

                  <tbody class="table-group-divider" id="myTable">
                  {%for item in availability_data_bangalore %}
                  <tr>
                      <td>{{item.avail_date}}</td>
                      <td>{{item.avail_time}}</td>

                  </tr>
                  {% endfor %}
              </tbody>
            </table>
          </div>


    </div>
</div>
  

<script>
  $(document).ready(function(){
    $("#myInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
  </script>

{% endblock %}