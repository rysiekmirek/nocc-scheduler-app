{% extends 'base.html' %}

{% block content %}

  <div class="my-4 mx-4 col-lg-11 bg-light text-left">
    <div class="container-md mx-auto col-7">
      
      <h3>New tour request form </h3>
        <hr>
       <form action="" method="post">
        {% csrf_token %}
        
     <!-- {% for field in form %}
          <div class="form-floating my-2">
            {{ field }}
            <label class="px-4" for="{{ field.auto_id }}"> {{ field.label }} </label>
            <i><small style="color:#9e9e9e">{{field.help_text}}</small></i></th>
            <i><small style="color:#e70a0a"> {{ field.errors }} </small></i>
          </div>
        {% endfor %}
      -->

      <div class="form-floating my-2">
        <fieldset>
          <legend>Basic Information</legend>
            {{ form.requestor_name }}
            <label class="px-4" for="{{ form.requestor_name.id_for_label}}"> {{ form.requestor_name.label }} </label>
            <i><small style="color:#9e9e9e">{{form.requestor_name.help_text}}</small></i></th>
            <i><small style="color:#e70a0a"> {{form.requestor_name.errors }} </small></i>

            {{ form.requestor_email }}
            <label class="px-4" for="{{ form.requestor_email.id_for_label }}"> {{ form.requestor_email.label }} </label>
            <i><small style="color:#9e9e9e">{{form.requestor_email.help_text}}</small></i></th>
            <i><small style="color:#e70a0a"> {{form.requestor_email.errors }} </small></i>

        </fieldset>

        <fieldset>
          <legend>Point of Contact</legend>
            {{ form.requestor_name }}
            <label class="px-4" for="{{ form.requestor_name.id_for_label}}"> {{ form.requestor_name.label }} </label>
            <i><small style="color:#9e9e9e">{{form.requestor_name.help_text}}</small></i></th>
            <i><small style="color:#e70a0a"> {{form.requestor_name.errors }} </small></i>

            {{ form.requestor_email }}
            <label class="px-4" for="{{ form.requestor_email.id_for_label}}"> {{ form.requestor_email.label }} </label>
            <i><small style="color:#9e9e9e">{{form.requestor_email.help_text}}</small></i></th>
            <i><small style="color:#e70a0a"> {{form.requestor_email.errors }} </small></i>

        </fieldset>




      </div>


        <div style='display:none;' class="form-check" id="has_opportunity_id">
      <input class="form-check-input" type="checkbox" value="yes" id="oportunity_ID_checkbox">
      <label class="form-check-label" for="oportunity_ID_checkbox">
        I already have my Salesforce Opportunity ID
      </label>
    </div>

        <div style='display:none;' id='opportunity_ID'>Opportunity ID<br/>&nbsp;
      <br/>&nbsp;
          <input type='text' class='text' name='opportunity_ID' value size='20' />
          <br/>
      </div>


        {{ form.non_field_errors }}
      </div>
      <div class="px-4 py-3 my-3 text-center">
      <button type="submit" class="btn btn-primary btn-lg">Submit</button>
      </div>
      </form>
      </div>


    <script type="text/javascript">
      $("#oportunity_ID_checkbox").click(function() {
        if($(this).is(":checked")) {
            $("#opportunity_ID").show();
        } else {
            $("#opportunity_ID").hide();
        }
    });

    $(document).ready(function(){
        $('#id_category').on('change', function() {
          if ( this.value == 'existing customer' || this.value ==  'new prospect')
          {
            $("#has_opportunity_id").show();
          }
          else
          {
            $("#has_opportunity_id").hide();
          }
        });
    });
    </script>

{% endblock %}